<section class="py-32 bg-[#050505] border-t border-white/5">
    <div class="container mx-auto px-6">
        
        <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-16 fade-up">
            <div>
                 <span class="text-primary font-mono text-sm uppercase tracking-widest mb-4 block">Journal</span>
                 <h2 class="text-5xl md:text-6xl font-display font-medium text-white">
                    {{ site.data.owner.ui.recent_posts_title | default: "Latest <span class='italic text-gray-500'>Insights</span>" }}
                 </h2>
            </div>
            
            <a href="{{ '/blog' | relative_url }}" class="hidden md:flex items-center gap-2 text-sm uppercase tracking-widest text-gray-400 hover:text-white transition-colors magnetic mt-8 md:mt-0">
                Read The Blog
                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
            </a>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% assign sorted_posts = site.posts | sort: 'date' | reverse %}
            {% for post in sorted_posts limit:3 %}
            <article class="group relative flex flex-col h-full fade-up border border-white/5 rounded-2xl p-4 hover:border-white/20 transition-colors duration-500 bg-[#0A0A0A]">
                <!-- Image -->
                <a href="{{ post.url | relative_url }}" class="block w-full aspect-video rounded-xl overflow-hidden mb-6 filter brightness-90 group-hover:brightness-100 transition-all duration-500">
                    {% assign post_image = post.image | default: post['post-image'] %}
                    {% if post_image %}
                    <div class="w-full h-full">
                         {% if post_image contains 'http' %}
                         <img src="{{ post_image }}" alt="{{ post.title }}" width="800" height="450" class="w-full h-full object-cover" loading="lazy">
                         {% else %}
                         <img src="{{ post_image | relative_url }}" alt="{{ post.title }}" width="800" height="450" class="w-full h-full object-cover" loading="lazy">
                         {% endif %}
                    </div>
                    {% else %}
                    <div class="w-full h-full bg-white/5 flex items-center justify-center text-gray-600 font-mono text-xs uppercase tracking-widest">
                        No Preview
                    </div>
                    {% endif %}
                </a>

                <!-- Content -->
                <div class="flex-1 flex flex-col px-2">
                    <div class="flex items-center gap-4 text-xs font-mono text-gray-500 mb-3">
                        <span class="flex items-center gap-1.5"><i class="fa-regular fa-calendar-days"></i> {{ post.date | date: "%B %d, %Y" }}</span>
                        <span class="w-1 h-1 bg-gray-600 rounded-full"></span>
                        <span class="text-primary">{{ post.categories | first }}</span>
                        <span class="w-1 h-1 bg-gray-600 rounded-full"></span>
                        <span class="flex items-center gap-1.5"><i class="fa-regular fa-clock"></i> {{ post.content | number_of_words | divided_by: 180 | plus: 1 }} min read</span>
                    </div>
                    
                    <h3 class="text-2xl font-display font-bold text-white mb-3 leading-tight group-hover:text-gray-300 transition-colors">
                        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                    </h3>
                    
                    <p class="text-gray-400 text-sm leading-relaxed mb-6 line-clamp-3 group-hover:text-gray-300 transition-colors">
                        {{ post.excerpt | strip_html }}
                    </p>
                    
                    <a href="{{ post.url | relative_url }}" class="mt-auto inline-flex items-center text-xs font-bold uppercase tracking-widest text-white/60 group-hover:text-white transition-colors">
                        Read Article
                        <svg class="w-3 h-3 ml-2 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                    </a>
                </div>
            </article>
            {% endfor %}
        </div>

        <div class="md:hidden mt-12 text-center">
            <a href="{{ '/blog' | relative_url }}" class="inline-block px-8 py-4 border border-white/20 rounded-full text-sm uppercase tracking-widest text-white hover:bg-white hover:text-black transition-colors">
               Read All Articles
           </a>
       </div>

    </div>
</section>
